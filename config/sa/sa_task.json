{
  "best_eval_key": "srl_f1",
  "layers": {
    "2": {
      "joint_pos_predicate": {
        "penalty": 1.0,
        "output_fn": {
          "name": "joint_softmax_classifier",
          "params": {
            "joint_maps": {
              "joint_maps": [
                "joint_pos_predicate_to_gold_pos",
                "joint_pos_predicate_to_predicate"
              ]
            }
          }
        },
        "eval_fns": {
          "predicate_acc": {
            "name": "accuracy",
            "params": {
              "predictions": {
                "layer": "joint_pos_predicate",
                "output": "predicate_predictions"
              },
              "targets": {
                "label": "predicate"
              }
            }
          },
          "pos_acc": {
            "name": "accuracy",
            "params": {
              "predictions": {
                "layer": "joint_pos_predicate",
                "output": "gold_pos_predictions"
              },
              "targets": {
                "label": "gold_pos"
              }
            }
          }
        }
      }
    },

    "4": {
      "parse_head": {
        "penalty": 1.0,
        "output_fn": {
          "name": "parse_bilinear",
          "params": {
          }
        },
        "eval_fns": {
          "label_accuracy": {
            "name": "accuracy"
          }
        }
      },
      "parse_label": {
        "penalty": 0.1,
        "output_fn": {
          "name": "conditional_bilinear",
          "params": {
            "dep_rel_mlp": {
              "layer": "parse_head",
              "output": "dep_rel_mlp"
            },
            "head_rel_mlp": {
              "layer": "parse_head",
              "output": "head_rel_mlp"
            },
            "parse_preds_train": {
              "label": "parse_head"
            },
            "parse_preds_eval": {
              "layer": "parse_head",
              "output": "predictions"
            },
          }
        },
        "eval_fns": {
          "parse_eval": {
            "name": "conll_parse_eval",
            "params": {
              "gold_parse_eval_file": {
                "value": args.save_dir + "/parse_gold.txt"
              },
              "pred_parse_eval_file": {
                "value": args.save_dir + "/parse_preds.txt"
              },
              "reverse_maps": {
                "reverse_maps": [
                  "word",
                  "parse_label",
                  "gold_pos"
                ]
              },
              "parse_head_predictions": {
                "layer": "parse_head",
                "output": "predictions"
              },
              "parse_head_targets": {
                "label": "parse_head",
              },
              "words": {
                "feature": "word",
              },
              "pos_targets": {
                "label": "gold_pos"
              }
            }
          }
        }
      }
    },

    "11": {
      "srl": {
        "penalty": 1.0,
        "viterbi": true,
        "transition_stats": args.transition_stats,
        "output_fn": {
          "name": "srl_bilinear",
          "params": {
            "predicate_targets": {
              "label": "predicate"
            },
            "predicate_preds_train": {
              "label": "predicate"
            },
            "predicate_preds_eval": {
              "layer": "joint_pos_predicate",
              "output": "predicate_predictions"
            }
          }
        },
        "eval_fns": {
          "srl_f1": {
            "name": "conll_srl_eval",
            "params": {
              "gold_srl_eval_file": {
                "value": args.save_dir + "/srl_gold.txt"
              },
              "pred_srl_eval_file": {
                "value": args.save_dir + "/srl_preds.txt"
              },
              "reverse_maps": {
                "reverse_maps": [
                  "word",
                  "srl",
                  "gold_pos"
                ]
              },
              "targets": {
                "layer": "srl",
                "output": "targets"
              },
              "predicate_targets": {
                "label": "predicate",
              },
              "words": {
                "feature": "word",
              },
              "predicate_predictions": {
                "layer": "joint_pos_predicate",
                "output": "predicate_predictions"
              },
              "pos_predictions": {
                "layer": "joint_pos_predicate",
                "output": "gold_pos_predictions"
              },
              "pos_targets": {
                "label": "gold_pos"
              }
            }
          }
        }
      }
    }
  }
}